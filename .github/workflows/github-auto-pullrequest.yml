name: Auto Pull Request

on:
  push:
    branches:
      - '**'        # matches every branch
      - '!main'   # excludes master

jobs:
  Lint:
    runs-on: ubuntu-latest
    steps:

      - name: Checkout
        uses: actions/checkout@v2
      
      - run: |
          git config --global user.name "GitHub Action"
          git config --global user.email "41898282+github-actions[bot]@users.noreply.github.com"

      - name: Create pull request
        env:
          BRANCH: "${GITHUB_REF#refs/heads/}"
        run: |
          echo ${{env.BRANCH}}
          hub pull-request -b main -m "Release ${{env.BRANCH}}"
